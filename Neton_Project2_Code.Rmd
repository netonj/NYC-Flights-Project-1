---
title: "Neton Project 2 Code"
author: "Jack Neton"
date: "2025-11-26"
output: html_document
---

```{r}
library(nycflights13)
library(tidyverse)
library(ggplot2)
```

```{r}
flights <- flights %>% 
  mutate(
    gain = dep_delay - arr_delay)

ua <- flights %>% 
  filter(carrier == "UA")

top5_ua <- ua %>% 
  count(dest, sort = TRUE) %>% 
  slice_head(n=5)

top5_ua
```

The five most common United destinations out of NYC are ORD, IAH, SFO, LAX, and DEN.

```{r}

ua_top5 <- ua %>% 
  filter(dest %in% top5_ua$dest)

ggplot(ua_top5, aes(x=gain)) +
  geom_histogram() +
  facet_wrap(~dest)
```


All five destinations show gain values mostly stacked below zero, meaning United flights usually lose time en route. The shapes are pretty similar across airports: a tall center around slight delays, with a long left tail from flights that lost a ton of time. ORD looks the most skewed negative, while DEN and SFO are a bit tighter and less extreme.

```{r}
ua_top5 %>% 
  group_by(dest) %>% 
  summarise(avg_gain = mean(gain, na.rm = TRUE))
```

# Prepare graphs for presentation

```{r}
gain_dist <- ggplot(ua_top5, aes(x = gain)) +
  geom_histogram(fill = "navy", color = "lightblue") +
  facet_wrap(~ dest) +
  labs(
    title = "Distribution of Time Gain/Loss for Top 5 United Airlines Destinations",
    x = "Gain (minutes)",
    y = "Count"
  ) +
  theme_minimal()

gain_dist
```

```{r}
ggsave(filename = "top5gain.png", plot = gain_dist)
```

